a0=[0,0,10];

n=[1.402684564	2.718120805	3.785234899	4.604026846	5.302013423	5.738255034	6.348993289	7.154362416	8.22147651	9.530201342];
p=[65	112	124	94	51	-33	-91	-120	-110	-65];

fun=@(a,n)a(1).*cos(2.*pi.*(-n+a(2))./a(3) - pi/2);

a= nlinfit(n,p,fun,a0)


plot(n,p,'ro')
hold on
x = 0:0.05:10;
plot(x,a(1).*cos(2.*pi.*(-x+a(2))./a(3) - pi/2))

xlabel('Distance(a)')
ylabel('Amplitude(pixel)')